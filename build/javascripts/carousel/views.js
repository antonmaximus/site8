/******************************************************************************
*** CAROUSELVIEW 
*** Author:    Anton Agana
***
*** Takes care of rendering markup components.
******************************************************************************/
var CAROUSELVIEW=function(e,t){"use strict";function i(e,t){t.images=e.slice(),o(t),s(t)}function s(e){var t=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),s=document.createElement("a"),o=document.createElement("a");t.className="navigation",r.className="chevron rightChev",i.className="chevron leftChev",s.className="download",o.className="pause",r.dataset.step=-e.options.w,i.dataset.step=e.options.w,e.carousel.dataset.autoStep=-e.options.w,e.carousel.dataset.time=e.options.time,s.download=!0,t.appendChild(i),t.appendChild(r),e.options.download&&t.appendChild(s),t.appendChild(o),e.carousel.insertAdjacentHTML("afterbegin",t.outerHTML),e.carousel.addEventListener("click",u,!1),n.autoMove(e.carousel)}function o(e){var t=document.createElement("div"),n=document.createElement("ul");e.carousel.className="carousel",t.className="viewport",n.className="filmstrip",e.options.bg&&(t.style.backgroundColor=e.options.bg),e.carousel.style.width=e.options.w+"px",e.carousel.style.height=e.options.h+"px",n.style.width=e.options.w*e.images.length+"px",n.dataset.totalWidth=e.options.w*e.images.length,e.carousel.dataset.viewingWidth=e.options.w,e.images.forEach(function(t){var r=document.createElement("li"),i=document.createElement("img");r.style.width=e.options.w+"px",i.src=t.path,i.alt=t.title,i.title=t.title,i.onload=function(){e.options.viewMode=="landscape"?(this.height>e.options.h?this.style.height="100%":this.parentNode.style.lineHeight=e.options.h+"px",this.width>e.options.w&&(this.parentNode.style.lineHeight=e.options.h+"px",this.style.height="",this.style.width="100%")):this.height>e.options.h?this.style.height="100%":(this.parentNode.style.lineHeight=e.options.h+"px",this.width>e.options.w&&(this.style.width="100%"))},r.appendChild(i),n.appendChild(r)}),t.appendChild(n),e.carousel.appendChild(t)}function u(e){var t=e.target||e.srcElement,r=t.className;r.indexOf("chevron")>-1?(n.moveCarouselByStep(this,Number(t.dataset.step)),n.stopCarousel(this),n.autoMove(this)):r.indexOf("download")>-1?n.downloadVisiblePhotoHandler(this,t):r.indexOf("pause")>-1&&n.pauseButtonHandler(this,t)}var n=e.CAROUSELCONTROLLER||{},r=t||{};return r.renderImagesAndNavigation=i,r}(this,CAROUSELVIEW);